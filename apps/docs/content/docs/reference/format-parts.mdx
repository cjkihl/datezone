---
title: Format Parts
description: Extract individual date and time components with timezone awareness
---

import { Tabs, Tab } from 'fumadocs-ui/components/tabs';

# Format Parts

Format parts utilities provide functions to extract individual date and time components from timestamps with full timezone support, returning structured data instead of formatted strings.

## formatToParts

Extract date and time components from a timestamp.

```typescript
function formatToParts<T extends Partial<Record<DatePartType, string>> & Intl.DateTimeFormatOptions>(
  date: number,
  timeZone: string,
  opts: T
): { [K in ExtractDatePartKeys<T>]: number }

type DatePartType = "year" | "month" | "day" | "hour" | "minute" | "second" | "weekday" | "era" | "timeZoneName"
```

<Tabs items={["Local", "Timezone"]}>
<Tab value="Local">

```typescript
import { formatToParts } from '@/datezone';

const timestamp = new Date(2024, 0, 15, 14, 30, 45).getTime(); // Jan 15, 2024 2:30:45 PM

// Extract basic date components
const dateComponents = formatToParts(timestamp, 'UTC', {
  year: 'numeric',
  month: '2-digit',
  day: '2-digit'
});
console.log(dateComponents); // { year: 2024, month: 1, day: 15 }

// Extract time components
const timeComponents = formatToParts(timestamp, 'UTC', {
  hour: '2-digit',
  minute: '2-digit', 
  second: '2-digit',
  hour12: false
});
console.log(timeComponents); // { hour: 14, minute: 30, second: 45 }

// Extract full timestamp components
const fullComponents = formatToParts(timestamp, 'UTC', {
  year: 'numeric',
  month: '2-digit',
  day: '2-digit',
  hour: '2-digit',
  minute: '2-digit',
  second: '2-digit',
  hour12: false
});
console.log(fullComponents); // { year: 2024, month: 1, day: 15, hour: 14, minute: 30, second: 45 }
```

</Tab>
<Tab value="Timezone">

```typescript
import { formatToParts } from '@/datezone';

const timestamp = new Date(2024, 0, 15, 19, 30, 45).getTime(); // 7:30:45 PM local

// Extract components in different timezones
const nyComponents = formatToParts(timestamp, 'America/New_York', {
  year: 'numeric',
  month: '2-digit', 
  day: '2-digit',
  hour: '2-digit',
  minute: '2-digit',
  hour12: false
});

const tokyoComponents = formatToParts(timestamp, 'Asia/Tokyo', {
  year: 'numeric',
  month: '2-digit',
  day: '2-digit', 
  hour: '2-digit',
  minute: '2-digit',
  hour12: false
});

const utcComponents = formatToParts(timestamp, 'UTC', {
  year: 'numeric',
  month: '2-digit',
  day: '2-digit',
  hour: '2-digit', 
  minute: '2-digit',
  hour12: false
});

console.log('NY:', nyComponents);    // { year: 2024, month: 1, day: 15, hour: 19, minute: 30 }
console.log('Tokyo:', tokyoComponents); // { year: 2024, month: 1, day: 16, hour: 9, minute: 30 }
console.log('UTC:', utcComponents);  // { year: 2024, month: 1, day: 16, hour: 0, minute: 30 }

// Notice how the date changes across timezones
```

</Tab>
</Tabs>

## FULL_TS Constant

Pre-defined options for extracting complete timestamp components.

```typescript
const FULL_TS = {
  day: "2-digit",
  era: "short", 
  hour: "2-digit",
  hour12: false,
  minute: "2-digit",
  month: "2-digit",
  second: "2-digit",
  year: "numeric",
} as const
```

<Tabs items={["Local", "Timezone"]}>
<Tab value="Local">

```typescript
import { formatToParts, FULL_TS } from '@/datezone';

const timestamp = new Date(2024, 0, 15, 14, 30, 45).getTime();

// Use the pre-defined FULL_TS options
const fullParts = formatToParts(timestamp, 'UTC', FULL_TS);
console.log(fullParts);
// {
//   year: 2024,
//   month: 1,
//   day: 15,
//   hour: 14,
//   minute: 30,
//   second: 45,
//   era: 1
// }

// Access individual components
console.log('Year:', fullParts.year);     // 2024
console.log('Month:', fullParts.month);   // 1
console.log('Day:', fullParts.day);       // 15
console.log('Hour:', fullParts.hour);     // 14
console.log('Minute:', fullParts.minute); // 30
console.log('Second:', fullParts.second); // 45
```

</Tab>
<Tab value="Timezone">

```typescript
import { formatToParts, FULL_TS } from '@/datezone';

const timestamp = new Date(2024, 0, 15, 14, 30, 45).getTime();

// Extract full components across different timezones
const timeZones = ['UTC', 'America/New_York', 'Asia/Tokyo', 'Europe/London'];

timeZones.forEach(tz => {
  const parts = formatToParts(timestamp, tz, FULL_TS);
  console.log(`${tz}:`, {
    date: `${parts.year}-${parts.month.toString().padStart(2, '0')}-${parts.day.toString().padStart(2, '0')}`,
    time: `${parts.hour.toString().padStart(2, '0')}:${parts.minute.toString().padStart(2, '0')}:${parts.second.toString().padStart(2, '0')}`
  });
});

// Output shows how the same moment appears in different timezones:
// UTC: { date: '2024-01-15', time: '14:30:45' }
// America/New_York: { date: '2024-01-15', time: '09:30:45' }
// Asia/Tokyo: { date: '2024-01-16', time: '23:30:45' }
// Europe/London: { date: '2024-01-15', time: '14:30:45' }
```

</Tab>
</Tabs>

## Component Extraction Examples

### Date Components Only

```typescript
import { formatToParts } from '@/datezone';

const timestamp = new Date(2024, 5, 15, 14, 30).getTime(); // June 15, 2024

// Extract only date-related components
const dateOnly = formatToParts(timestamp, 'UTC', {
  year: 'numeric',
  month: '2-digit',
  day: '2-digit',
  weekday: 'long'
});

console.log('Date components:', dateOnly);
// { year: 2024, month: 6, day: 15, weekday: 6 }

// Use components to build custom date string
const customDate = `${dateOnly.year}-${dateOnly.month.toString().padStart(2, '0')}-${dateOnly.day.toString().padStart(2, '0')}`;
console.log('Custom date:', customDate); // "2024-06-15"
```

### Time Components Only

```typescript
import { formatToParts } from '@/datezone';

const timestamp = new Date(2024, 0, 15, 14, 30, 45, 123).getTime();

// Extract only time-related components
const timeOnly = formatToParts(timestamp, 'UTC', {
  hour: '2-digit',
  minute: '2-digit',
  second: '2-digit',
  hour12: false
});

console.log('Time components:', timeOnly);
// { hour: 14, minute: 30, second: 45 }

// Build custom time string
const customTime = `${timeOnly.hour}:${timeOnly.minute}:${timeOnly.second}`;
console.log('Custom time:', customTime); // "14:30:45"
```

### Weekday Information

```typescript
import { formatToParts } from '@/datezone';

const timestamp = new Date(2024, 0, 15, 14, 30).getTime(); // Monday

// Extract weekday information
const weekdayInfo = formatToParts(timestamp, 'UTC', {
  weekday: 'long'
});

console.log('Weekday number:', weekdayInfo.weekday); // 1 (Monday = 1 in ISO format)

// Map weekday numbers to names
const weekdayNames = ['', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
console.log('Weekday name:', weekdayNames[weekdayInfo.weekday]); // "Monday"
```

## Practical Applications

### Custom Date Builder

```typescript
import { formatToParts, FULL_TS } from '@/datezone';

class DateBuilder {
  static fromTimestamp(timestamp: number, timeZone = 'UTC') {
    const parts = formatToParts(timestamp, timeZone, FULL_TS);
    
    return {
      year: parts.year,
      month: parts.month,
      day: parts.day,
      hour: parts.hour,
      minute: parts.minute,
      second: parts.second,
      
      // Helper methods
      toISODate(): string {
        return `${parts.year}-${parts.month.toString().padStart(2, '0')}-${parts.day.toString().padStart(2, '0')}`;
      },
      
      toISOTime(): string {
        return `${parts.hour.toString().padStart(2, '0')}:${parts.minute.toString().padStart(2, '0')}:${parts.second.toString().padStart(2, '0')}`;
      },
      
      toISOString(): string {
        return `${this.toISODate()}T${this.toISOTime()}`;
      },
      
      toObject() {
        return {
          year: parts.year,
          month: parts.month,
          day: parts.day,
          hour: parts.hour,
          minute: parts.minute,
          second: parts.second
        };
      }
    };
  }
}

const timestamp = new Date(2024, 0, 15, 14, 30, 45).getTime();

const nyDate = DateBuilder.fromTimestamp(timestamp, 'America/New_York');
const tokyoDate = DateBuilder.fromTimestamp(timestamp, 'Asia/Tokyo');

console.log('NY Date:', nyDate.toISOString());
console.log('Tokyo Date:', tokyoDate.toISOString());
console.log('NY Object:', nyDate.toObject());
```

### Timezone Comparison Tool

```typescript
import { formatToParts, FULL_TS } from '@/datezone';

function compareTimezones(timestamp: number, timezones: string[]) {
  return timezones.map(tz => {
    const parts = formatToParts(timestamp, tz, FULL_TS);
    
    return {
      timezone: tz,
      components: parts,
      formatted: {
        date: `${parts.year}-${parts.month.toString().padStart(2, '0')}-${parts.day.toString().padStart(2, '0')}`,
        time: `${parts.hour.toString().padStart(2, '0')}:${parts.minute.toString().padStart(2, '0')}:${parts.second.toString().padStart(2, '0')}`,
        datetime: `${parts.year}-${parts.month.toString().padStart(2, '0')}-${parts.day.toString().padStart(2, '0')} ${parts.hour.toString().padStart(2, '0')}:${parts.minute.toString().padStart(2, '0')}:${parts.second.toString().padStart(2, '0')}`
      }
    };
  });
}

const timestamp = Date.now();
const timezones = ['UTC', 'America/New_York', 'Europe/London', 'Asia/Tokyo', 'Australia/Sydney'];

const comparison = compareTimezones(timestamp, timezones);
console.table(comparison.map(item => ({
  timezone: item.timezone,
  date: item.formatted.date,
  time: item.formatted.time
})));
```

### Date Arithmetic with Components

```typescript
import { formatToParts, FULL_TS } from '@/datezone';
import { wallTimeToUTC } from '@/datezone';

function addDaysToTimestamp(timestamp: number, days: number, timeZone = 'UTC'): number {
  // Extract current components
  const parts = formatToParts(timestamp, timeZone, FULL_TS);
  
  // Create new date with added days
  const newDate = new Date(parts.year, parts.month - 1, parts.day + days);
  
  // Convert back to timestamp in the same timezone
  return wallTimeToUTC(
    newDate.getFullYear(),
    newDate.getMonth() + 1,
    newDate.getDate(),
    parts.hour,
    parts.minute,
    parts.second,
    0,
    timeZone
  );
}

function addHoursToTimestamp(timestamp: number, hours: number, timeZone = 'UTC'): number {
  const parts = formatToParts(timestamp, timeZone, FULL_TS);
  
  return wallTimeToUTC(
    parts.year,
    parts.month,
    parts.day,
    parts.hour + hours,
    parts.minute,
    parts.second,
    0,
    timeZone
  );
}

const now = Date.now();
const tomorrow = addDaysToTimestamp(now, 1, 'America/New_York');
const inThreeHours = addHoursToTimestamp(now, 3, 'America/New_York');

console.log('Now (NY):', formatToParts(now, 'America/New_York', FULL_TS));
console.log('Tomorrow (NY):', formatToParts(tomorrow, 'America/New_York', FULL_TS));
console.log('In 3 hours (NY):', formatToParts(inThreeHours, 'America/New_York', FULL_TS));
```

### Validation with Components

```typescript
import { formatToParts } from '@/datezone';

function validateBusinessHours(timestamp: number, timeZone: string): boolean {
  const parts = formatToParts(timestamp, timeZone, {
    hour: '2-digit',
    minute: '2-digit',
    weekday: 'long',
    hour12: false
  });
  
  // Check if it's a weekday (Monday = 1, Friday = 5)
  const isWeekday = parts.weekday >= 1 && parts.weekday <= 5;
  
  // Check if it's business hours (9 AM to 5 PM)
  const isBusinessHour = parts.hour >= 9 && parts.hour < 17;
  
  return isWeekday && isBusinessHour;
}

function getNextBusinessDay(timestamp: number, timeZone: string): number {
  let current = timestamp;
  
  while (true) {
    const parts = formatToParts(current, timeZone, {
      weekday: 'long',
      year: 'numeric',
      month: '2-digit', 
      day: '2-digit'
    });
    
    // If it's a weekday, return start of business day
    if (parts.weekday >= 1 && parts.weekday <= 5) {
      return wallTimeToUTC(parts.year, parts.month, parts.day, 9, 0, 0, 0, timeZone);
    }
    
    // Move to next day
    current += 24 * 60 * 60 * 1000;
  }
}

const timestamp = Date.now();
const timeZone = 'America/New_York';

console.log('Is business hours?', validateBusinessHours(timestamp, timeZone));

const nextBusiness = getNextBusinessDay(timestamp, timeZone);
const nextBusinessParts = formatToParts(nextBusiness, timeZone, FULL_TS);
console.log('Next business day:', nextBusinessParts);
```

## Component Types

The `formatToParts` function supports extracting the following component types:

### Numeric Components
- **year**: Full year (2024)
- **month**: Month number (1-12)
- **day**: Day of month (1-31)
- **hour**: Hour (0-23 or 1-12 depending on hour12 setting)
- **minute**: Minute (0-59)
- **second**: Second (0-59)
- **weekday**: Day of week (1-7, where 1 = Monday)

### Text Components (when using appropriate options)
- **era**: Era indicator (AD/BC)
- **timeZoneName**: Timezone name or abbreviation

### Options Format
Each component requires specific Intl.DateTimeFormatOptions:

```typescript
const options = {
  year: 'numeric' | '2-digit',
  month: 'numeric' | '2-digit' | 'long' | 'short' | 'narrow',
  day: 'numeric' | '2-digit',
  hour: 'numeric' | '2-digit',
  minute: 'numeric' | '2-digit',
  second: 'numeric' | '2-digit',
  weekday: 'long' | 'short' | 'narrow',
  era: 'long' | 'short' | 'narrow',
  timeZoneName: 'long' | 'short',
  hour12: boolean
};
```

### Return Type Mapping
The function returns only the components you request:

```typescript
// Request only year and month
const parts = formatToParts(timestamp, 'UTC', {
  year: 'numeric',
  month: '2-digit'
});
// Returns: { year: number, month: number }

// Request time components
const timeParts = formatToParts(timestamp, 'UTC', {
  hour: '2-digit',
  minute: '2-digit',
  second: '2-digit',
  hour12: false
});
// Returns: { hour: number, minute: number, second: number }
``` 